:root {
  --frame-bg: #0b0f1a;
  --eye-color: #00ffd5;
  --eye-error: #ff463f;

  /* Réactivité (50vw ≈ largeur du visage) */
  --avatar-width: 50vw;
  --avatar-height: calc(50vw * 0.75);  /* 4:3 */
  --eyes-zone-width: calc(50vw * 0.55);
  --eyes-zone-height: calc(50vw * 0.33);
  --eye-size: calc(50vw * 0.20);
}

/* Mise en page globale (fond blanc, centrage) */
.app-container {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
  padding-top: min(8vh, 64px);
  background: #fff;
}

/* Avatar */
.avatar-wrapper {
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  width: var(--avatar-width);
  height: var(--avatar-height);
}

.avatar-frame {
  width: 100%;
  height: 100%;
  fill: var(--frame-bg);
}

/* Zone des yeux */
.avatar-eyes {
  position: absolute;
  inset: 0;
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: var(--eyes-zone-width);
  height: var(--eyes-zone-height);
  margin: auto;
}

/* Orbits */
.eye-socket {
  width: var(--eye-size);
  height: var(--eye-size);
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: visible;
}

/* Pupille (conteneurs) */
.pupil-wrapper {
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;

}
.pupil-wrapper.tracking {
  transition: transform 0.2s ease; /* rapide quand la souris bouge */
}

.pupil-wrapper.idle {
  transition: transform 2s ease; /* lent quand idle */
}


.pupil-inner {
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  animation: blink 5s infinite;
}

/* Forme normale */
.pupil-shape {
  width: 100%;
  height: 100%;
  border-radius: 30%;
  background: var(--eye-color);
  box-shadow: 0 0 4vw  var(--eye-color);
}

/* Blink synchrone */
@keyframes blink {
  0%, 95%, 100% { transform: scaleY(1); }
  97% { transform: scaleY(0.1) scaleX(1.5); }
}

/* Mode erreur : chevrons rouges */
.pupil-shape.error {
  position: relative;
  width: 150%;
  height: 300%;
  display: flex;
  justify-content: center;
  align-items: center;
  background: none; /* ✅ enlève le fond bleu-vert */
  box-shadow: none; /* ✅ enlève l’ombre normale */
}

.pupil-shape.error span {
  display: block;
  width: 120%;
  height: 20%;
  background: var(--eye-error);
  border-radius: 2vw;
  box-shadow: 0 0 3vw var(--eye-error), 0 0 3vw var(--eye-error);
  position: absolute;
}

/* chevron gauche "<" */
.pupil-shape.error.left span:first-child {
  transform: rotate(45deg) translate(-20%, -20%);
}
.pupil-shape.error.left span:last-child {
  transform: rotate(-45deg) translate(-20%, 20%);
}

/* chevron droit ">" */
.pupil-shape.error.right span:first-child {
  transform: rotate(-45deg) translate(20%, -20%);
}
.pupil-shape.error.right span:last-child {
  transform: rotate(45deg) translate(20%, 20%);
}

/* Bouton de bascule */
.toggle-button {
  margin-top: 28px;
  padding: 10px 18px;
  border: none;
  border-radius: 12px;
  background: #0b0f1a;
  color: #fff;
  cursor: pointer;
  box-shadow: 0 8px 24px rgba(11, 15, 26, 0.18);
}
.toggle-button:hover { filter: brightness(1.08); }
